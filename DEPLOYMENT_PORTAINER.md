# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ AniGo —á–µ—Ä–µ–∑ Portainer.io

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Portainer.io.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞](#1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞)
2. [–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä](#2-–∑–∞–≥—Ä—É–∑–∫–∞-–ø—Ä–æ–µ–∫—Ç–∞-–Ω–∞-—Å–µ—Ä–≤–µ—Ä)
3. [–°–æ–∑–¥–∞–Ω–∏–µ Stack –≤ Portainer](#3-—Å–æ–∑–¥–∞–Ω–∏–µ-stack-–≤-portainer)
4. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è](#4-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –≤ reg.ru](#5-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-dns-–≤-regru)
6. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –∏ SSL](#6-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-nginx-–∏-ssl)
7. [–ó–∞–ø—É—Å–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞](#7-–∑–∞–ø—É—Å–∫-–∏-–ø—Ä–æ–≤–µ—Ä–∫–∞)
8. [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Portainer](#8-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—á–µ—Ä–µ–∑-portainer)

---

## 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –®–∞–≥ 1.1: –î–æ—Å—Ç—É–ø –∫ Portainer

1. –û—Ç–∫—Ä–æ–π—Ç–µ Portainer –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–æ–±—ã—á–Ω–æ `http://YOUR_VPS_IP:9000` –∏–ª–∏ `https://yourdomain.ru:9000`)
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É
3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à Docker environment (–æ–±—ã—á–Ω–æ `local`)

### –®–∞–≥ 1.2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–í–∞–º –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä. –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–æ—Å–æ–±–æ–≤:

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ SSH –∏ Git**

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH
ssh root@YOUR_VPS_IP

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —É–¥–æ–±–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, /opt)
cd /opt

# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone YOUR_REPO_URL anigo
cd anigo
```

**–í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ Portainer (Volumes)**

1. –í Portainer –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Volumes**
2. –°–æ–∑–¥–∞–π—Ç–µ volume: `anigo-data`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –¥–ª—è –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

**–í–∞—Ä–∏–∞–Ω—Ç C: –ó–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ SCP/SFTP**

```bash
# –ù–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
scp -r /path/to/anigo root@YOUR_VPS_IP:/opt/
```

---

## 2. –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –®–∞–≥ 2.1: –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@YOUR_VPS_IP

# –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p /opt/anigo
cd /opt/anigo

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ (—á–µ—Ä–µ–∑ git, scp –∏–ª–∏ –¥—Ä—É–≥–∏–º —Å–ø–æ—Å–æ–±–æ–º)
```

### –®–∞–≥ 2.2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/anigo

# –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env (—Å–º. —Ä–∞–∑–¥–µ–ª 4)
nano .env
```

---

## 3. –°–æ–∑–¥–∞–Ω–∏–µ Stack –≤ Portainer

### –®–∞–≥ 3.1: –û—Ç–∫—Ä—ã—Ç–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ Stack

1. –í Portainer –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Stacks**
2. –ù–∞–∂–º–∏—Ç–µ **Add stack**
3. –í–≤–µ–¥–∏—Ç–µ –∏–º—è: `anigo`
4. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä: **Web editor** –∏–ª–∏ **Upload**

### –®–∞–≥ 3.2: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ docker-compose.yml

–í–∞–º –Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `docker-compose.prod.yml` –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä Portainer.

**–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `docker-compose.prod.yml` –Ω–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.**

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –Ω–∏–∂–µ (–∞–¥–∞–ø—Ç–∏—Ä—É–π—Ç–µ –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã):

```yaml
version: '3.8'

services:
  # Nginx reverse proxy —Å SSL –∏ rate limiting
  nginx:
    build:
      context: /opt/anigo/nginx
      dockerfile: Dockerfile
    container_name: anigo-nginx-prod
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - /opt/anigo/nginx/nginx.conf:/etc/nginx/conf.d/default.conf:ro
      - certbot-www:/var/www/certbot:ro
      - certbot-conf:/etc/letsencrypt:ro
      - nginx-logs:/var/log/nginx
    depends_on:
      - frontend
      - backend
    networks:
      - anigo-network
    restart: unless-stopped

  # Certbot –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
  certbot:
    image: certbot/certbot
    container_name: anigo-certbot
    volumes:
      - certbot-www:/var/www/certbot
      - certbot-conf:/etc/letsencrypt
    networks:
      - anigo-network

  backend:
    build:
      context: /opt/anigo/backend
      dockerfile: Dockerfile
    container_name: anigo-backend-prod
    expose:
      - "8000"
    volumes:
      - /opt/anigo/.env:/app/.env:ro
    environment:
      - PYTHONUNBUFFERED=1
      - ENVIRONMENT=production
    env_file:
      - /opt/anigo/.env
    depends_on:
      - db
    networks:
      - anigo-network
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "python", "-c", "import urllib.request; urllib.request.urlopen('http://localhost:8000/health').read()"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 40s

  db:
    image: postgres:15
    container_name: anigo-db-prod
    env_file:
      - /opt/anigo/.env
    environment:
      POSTGRES_INITDB_ARGS: "-E UTF8 --locale=ru_RU.UTF-8"
    volumes:
      - db_data:/var/lib/postgresql/data
    expose:
      - "5432"
    networks:
      - anigo-network
    restart: unless-stopped
    command: >
      postgres
      -c max_connections=200
      -c shared_buffers=2GB
      -c effective_cache_size=6GB
      -c maintenance_work_mem=512MB
      -c checkpoint_completion_target=0.9
      -c wal_buffers=16MB
      -c default_statistics_target=100
      -c random_page_cost=1.1
      -c effective_io_concurrency=200
      -c work_mem=10MB
      -c min_wal_size=1GB
      -c max_wal_size=4GB
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U ${POSTGRES_USER:-user} -d ${POSTGRES_DB:-anigo}"]
      interval: 10s
      timeout: 5s
      retries: 5

  frontend:
    build:
      context: /opt/anigo/frontend
      dockerfile: Dockerfile
    container_name: anigo-frontend-prod
    expose:
      - "80"
    depends_on:
      - backend
    networks:
      - anigo-network
    restart: unless-stopped

volumes:
  db_data:
    driver: local
  certbot-www:
    driver: local
  certbot-conf:
    driver: local
  nginx-logs:
    driver: local

networks:
  anigo-network:
    driver: bridge
```

**–í–ê–ñ–ù–û:** –ó–∞–º–µ–Ω–∏—Ç–µ `/opt/anigo` –Ω–∞ –ø—É—Ç—å, –≥–¥–µ —É –≤–∞—Å –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø—Ä–æ–µ–∫—Ç!

### –®–∞–≥ 3.3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π

–í Portainer –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Stack:

1. –í—Å—Ç–∞–≤—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ `docker-compose.prod.yml` –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä
2. **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç–µ –≤—Å–µ –ø—É—Ç–∏:**
   - `./nginx` ‚Üí `/opt/anigo/nginx` (–∏–ª–∏ –≤–∞—à –ø—É—Ç—å)
   - `./backend` ‚Üí `/opt/anigo/backend`
   - `./frontend` ‚Üí `/opt/anigo/frontend`
   - `./.env` ‚Üí `/opt/anigo/.env`

3. –ù–∞–∂–º–∏—Ç–µ **Deploy the stack**

---

## 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –®–∞–≥ 4.1: –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@YOUR_VPS_IP

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/anigo

# –°–æ–∑–¥–∞–π—Ç–µ .env –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
cp env.example .env

# –û—Ç–∫—Ä–æ–π—Ç–µ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
nano .env
```

### –®–∞–≥ 4.2: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

```env
# –û–∫—Ä—É–∂–µ–Ω–∏–µ
ENVIRONMENT=production

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
POSTGRES_USER=anigo_user
POSTGRES_PASSWORD=–í–∞—à–ù–∞–¥–µ–∂–Ω—ã–π–ü–∞—Ä–æ–ª—å123!@#
POSTGRES_DB=anigo
DB_HOST=db
DB_PORT=5432

# JWT (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–ª—é—á!)
SECRET_KEY=–≤–∞—à_—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π_–∫–ª—é—á_–º–∏–Ω–∏–º—É–º_32_—Å–∏–º–≤–æ–ª–∞
ALGORITHM=HS256
COOKIES_SESSION_ID_KEY=session_id

# CORS (–≤–∞—à –¥–æ–º–µ–Ω!)
ALLOWED_ORIGINS=https://yourdomain.ru,https://www.yourdomain.ru
FRONTEND_URL=https://yourdomain.ru

# SMTP (reg.ru)
SMTP_HOST=mail.hosting.reg.ru
SMTP_PORT=587
SMTP_USER=noreply@yourdomain.ru
SMTP_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_–æ—Ç_–ø–æ—á—Ç—ã
SMTP_FROM_EMAIL=noreply@yourdomain.ru

# –ü—É—Ç–∏
AVATARS_BASE_PATH=/app
```

**–ì–µ–Ω–µ—Ä–∞—Ü–∏—è SECRET_KEY:**

```bash
python3 -c "import secrets; print(secrets.token_urlsafe(32))"
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ `.env` ‚Üí `SECRET_KEY`

### –®–∞–≥ 4.3: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ - –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Portainer

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä—è–º–æ –≤ Portainer:

1. –í Stack –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, `backend`)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Duplicate/Edit**
3. –í —Ä–∞–∑–¥–µ–ª–µ **Environment variables** –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
4. –ù–∞–∂–º–∏—Ç–µ **Update the container**

**–ù–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `.env` —Ñ–∞–π–ª** - —Ç–∞–∫ –ø—Ä–æ—â–µ —É–ø—Ä–∞–≤–ª—è—Ç—å.

---

## 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –≤ reg.ru

### –®–∞–≥ 5.1: –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∞–¥—Ä–µ—Å–∞ VPS

1. –í –ø–∞–Ω–µ–ª–∏ vps.sweb.ru –Ω–∞–π–¥–∏—Ç–µ IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
2. –ó–∞–ø–∏—à–∏—Ç–µ –µ–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `185.123.45.67`)

### –®–∞–≥ 5.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –∑–∞–ø–∏—Å–µ–π

1. –û—Ç–∫—Ä–æ–π—Ç–µ [reg.ru](https://www.reg.ru)
2. –í–æ–π–¥–∏—Ç–µ –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–ú–æ–∏ –¥–æ–º–µ–Ω—ã** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
4. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DNS-–∑–æ–Ω–æ–π**

5. –î–æ–±–∞–≤—å—Ç–µ/–∏–∑–º–µ–Ω–∏—Ç–µ –∑–∞–ø–∏—Å–∏:

   **A-–∑–∞–ø–∏—Å—å (–æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω):**
   ```
   –¢–∏–ø: A
   –ò–º—è: @ (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)
   –ó–Ω–∞—á–µ–Ω–∏–µ: 185.123.45.67 (–≤–∞—à IP VPS)
   TTL: 3600
   ```

   **A-–∑–∞–ø–∏—Å—å (www –ø–æ–¥–¥–æ–º–µ–Ω):**
   ```
   –¢–∏–ø: A
   –ò–º—è: www
   –ó–Ω–∞—á–µ–Ω–∏–µ: 185.123.45.67 (–≤–∞—à IP VPS)
   TTL: 3600
   ```

6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

7. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-30 –º–∏–Ω—É—Ç –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è DNS

---

## 6. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –∏ SSL

### –®–∞–≥ 6.1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@YOUR_VPS_IP

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/anigo

# –ö–æ–ø–∏—Ä—É–µ–º production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
cp nginx/nginx.prod.conf nginx/nginx.conf

# –ó–∞–º–µ–Ω—è–µ–º –¥–æ–º–µ–Ω –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
sed -i 's/YOUR_DOMAIN/yourdomain.ru/g' nginx/nginx.conf

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
grep "server_name" nginx/nginx.conf
```

–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
server_name yourdomain.ru www.yourdomain.ru;
```

### –®–∞–≥ 6.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall

```bash
# –†–∞–∑—Ä–µ—à–∞–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–æ—Ä—Ç—ã
ufw allow 22/tcp   # SSH
ufw allow 80/tcp   # HTTP
ufw allow 443/tcp  # HTTPS

# –í–∫–ª—é—á–∞–µ–º firewall
ufw enable

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
ufw status
```

### –®–∞–≥ 6.3: –ó–∞–ø—É—Å–∫ —Ç–æ–ª—å–∫–æ Nginx –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è SSL

–í Portainer:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –≤–∞—à Stack `anigo`
2. –ù–∞–π–¥–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `nginx`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ–Ω –∑–∞–ø—É—â–µ–Ω (Status: Running)
4. –ï—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω - –Ω–∞–∂–º–∏—Ç–µ **Start**

–ò–ª–∏ —á–µ—Ä–µ–∑ SSH:

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–æ–ª—å–∫–æ nginx
cd /opt/anigo
docker-compose -f docker-compose.prod.yml up -d nginx

# –ñ–¥–µ–º 10 —Å–µ–∫—É–Ω–¥
sleep 10
```

### –®–∞–≥ 6.4: –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

**–ß–µ—Ä–µ–∑ Portainer:**

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Containers**
2. –ù–∞–π–¥–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `anigo-certbot` –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
3. –ù–∞–∂–º–∏—Ç–µ **Duplicate/Edit**
4. –í **Command** –≤–≤–µ–¥–∏—Ç–µ:

```bash
certonly --webroot --webroot-path=/var/www/certbot --email your-email@example.com --agree-tos --no-eff-email --non-interactive --preferred-challenges http -d yourdomain.ru -d www.yourdomain.ru
```

5. –í **Volumes** —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã:
   - `/opt/anigo/certbot-www:/var/www/certbot`
   - `/opt/anigo/certbot-conf:/etc/letsencrypt`

6. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

**–ò–ª–∏ —á–µ—Ä–µ–∑ SSH:**

```bash
cd /opt/anigo

docker-compose -f docker-compose.prod.yml run --rm certbot certonly \
  --webroot \
  --webroot-path=/var/www/certbot \
  --email your-email@example.com \
  --agree-tos \
  --no-eff-email \
  --non-interactive \
  --preferred-challenges http \
  -d yourdomain.ru \
  -d www.yourdomain.ru
```

**–ó–∞–º–µ–Ω–∏—Ç–µ:**
- `your-email@example.com` –Ω–∞ –≤–∞—à email
- `yourdomain.ru` –Ω–∞ –≤–∞—à –¥–æ–º–µ–Ω

### –®–∞–≥ 6.5: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
ls -la /opt/anigo/certbot-conf/live/yourdomain.ru/
```

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ñ–∞–π–ª—ã:
- `fullchain.pem`
- `privkey.pem`
- `chain.pem`

### –®–∞–≥ 6.6: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Nginx

–í Portainer:

1. –ù–∞–π–¥–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `anigo-nginx-prod`
2. –ù–∞–∂–º–∏—Ç–µ **Restart**

–ò–ª–∏ —á–µ—Ä–µ–∑ SSH:

```bash
docker restart anigo-nginx-prod
```

---

## 7. –ó–∞–ø—É—Å–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞

### –®–∞–≥ 7.1: –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

–í Portainer:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Stacks**
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à Stack `anigo`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã:
   - ‚úÖ `anigo-nginx-prod` - Running
   - ‚úÖ `anigo-backend-prod` - Running
   - ‚úÖ `anigo-frontend-prod` - Running
   - ‚úÖ `anigo-db-prod` - Running

4. –ï—Å–ª–∏ –∫–∞–∫–∏–µ-—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—â–µ–Ω—ã:
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
   - –ù–∞–∂–º–∏—Ç–µ **Start**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ (–∫–Ω–æ–ø–∫–∞ **Logs**)

### –®–∞–≥ 7.2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

–í Portainer:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Containers**
2. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä, `anigo-backend-prod`)
3. –ù–∞–∂–º–∏—Ç–µ **Logs**
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:**
- `anigo-backend-prod`
- `anigo-frontend-prod`
- `anigo-nginx-prod`
- `anigo-db-prod`

### –®–∞–≥ 7.3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

**–í –±—Ä–∞—É–∑–µ—Ä–µ:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://yourdomain.ru`
2. –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è —Å–∞–π—Ç —Å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º (–∑–µ–ª–µ–Ω—ã–π –∑–∞–º–æ—á–µ–∫)

**–ß–µ—Ä–µ–∑ curl (–Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ):**

```bash
# Health check
curl https://yourdomain.ru/api/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
# {"status":"healthy","database":"connected","redis":"connected"}

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ HTTP ‚Üí HTTPS
curl -I http://yourdomain.ru

# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å—Ç—Ä–æ–∫–∞:
# HTTP/1.1 301 Moved Permanently
# Location: https://yourdomain.ru/...
```

---

## 8. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Portainer

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞

1. **Stacks** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ `anigo` ‚Üí –≤–∏–¥–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
2. **Containers** ‚Üí –≤–∏–¥–∏—Ç–µ –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –∏—Ö —Å—Ç–∞—Ç—É—Å

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

1. **Containers** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí **Logs**
2. –ú–æ–∂–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ –≤—Ä–µ–º–µ–Ω–∏, –∏—Å–∫–∞—Ç—å –≤ –ª–æ–≥–∞—Ö

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤

**–í–∞—Ä–∏–∞–Ω—Ç 1: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ Stack**

1. **Stacks** ‚Üí `anigo` ‚Üí **Editor**
2. –ù–∞–∂–º–∏—Ç–µ **Update the stack**

**–í–∞—Ä–∏–∞–Ω—Ç 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞**

1. **Containers** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí **Restart**

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–æ–¥–∞

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –∫–æ–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. –í Portainer: **Stacks** ‚Üí `anigo` ‚Üí **Editor**
3. –ù–∞–∂–º–∏—Ç–µ **Update the stack**
4. Portainer –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑—ã —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º

### –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

1. **Containers** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí **Stats**
2. –í–∏–¥–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU, –ø–∞–º—è—Ç–∏, —Å–µ—Ç–∏

### –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Å–æ–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

1. **Containers** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí **Console**
2. –í—ã–±–µ—Ä–∏—Ç–µ shell (bash/sh)
3. –ú–æ–∂–µ—Ç–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

**–ü—Ä–∏–º–µ—Ä—ã:**

```bash
# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ backend
python migrations/run_migration.py

# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ db
psql -U anigo_user -d anigo
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ volumes

1. **Volumes** ‚Üí –≤–∏–¥–∏—Ç–µ –≤—Å–µ volumes
2. –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å, —É–¥–∞–ª—è—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ç—è–º–∏

1. **Networks** ‚Üí –≤–∏–¥–∏—Ç–µ –≤—Å–µ —Å–µ—Ç–∏
2. Stack –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —Å–µ—Ç—å `anigo-network`

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Portainer

### –ë—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. **Containers** ‚Üí `anigo-db-prod` ‚Üí **Console**
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
pg_dump -U anigo_user anigo > /tmp/backup.sql
```

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª —Å —Å–µ—Ä–≤–µ—Ä–∞:

```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
scp root@YOUR_VPS_IP:/tmp/backup.sql ./
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. **Containers** ‚Üí `anigo-db-prod` ‚Üí **Console**
3. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
psql -U anigo_user -d anigo < /tmp/backup.sql
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

1. **Containers** ‚Üí —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `certbot`
2. **Image:** `certbot/certbot`
3. **Command:** `renew`
4. **Volumes:** –ø–æ–¥–∫–ª—é—á–∏—Ç–µ —Ç–µ –∂–µ volumes, —á—Ç–æ –∏ –≤ Stack
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
6. –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ `nginx`

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

1. **Containers** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí **Duplicate/Edit**
2. –í —Ä–∞–∑–¥–µ–ª–µ **Environment variables** –≤–∏–¥–∏—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

---

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

1. **Containers** ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä ‚Üí **Logs**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏
3. –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—É—Ç–∏ –≤ docker-compose.yml
   - –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç `.env` —Ñ–∞–π–ª
   - –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –û—à–∏–±–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `anigo-backend-prod`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `anigo-db-prod`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `POSTGRES_*` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤ `.env`

### SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `certbot`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç –≤ firewall
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é nginx

### –°–∞–π—Ç –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ `nginx`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç—ã 80 –∏ 443 –æ—Ç–∫—Ä—ã—Ç—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏: `nslookup yourdomain.ru`

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ —Å—á–∏—Ç–∞—Ç—å —Å–∞–π—Ç –≥–æ—Ç–æ–≤—ã–º:

- [ ] –í—Å–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω
- [ ] Stack —Å–æ–∑–¥–∞–Ω –≤ Portainer
- [ ] –í—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–ø—É—â–µ–Ω—ã (Status: Running)
- [ ] DNS –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ reg.ru
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–æ–ª—É—á–µ–Ω
- [ ] –°–∞–π—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ HTTPS
- [ ] API endpoint `/api/health` —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –†–µ–¥–∏—Ä–µ–∫—Ç HTTP ‚Üí HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–ø–æ—Ä—Ç—ã 22, 80, 443 –æ—Ç–∫—Ä—ã—Ç—ã)

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à —Å–∞–π—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É `https://yourdomain.ru`

–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Portainer:
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞

---

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:**
- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Portainer](https://docs.portainer.io/)
- [DEPLOYMENT_VPS_SWEB.md](./DEPLOYMENT_VPS_SWEB.md) - –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É
