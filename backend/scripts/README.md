# Скрипты для работы с базой данных

## Генерация тестовых пользователей

Скрипт `generate_test_users.py` создает 50 тестовых пользователей со случайными данными.

### Характеристики тестовых пользователей:

- **Никнеймы**: Состоят из 1-3 английских слов (например: "cool_warrior", "shadow_mage_pro", "epic_hunter")
- **Email**: Генерируются на основе случайных имен и фамилий
- **Пароли**: Все пользователи имеют пароль `TestUser123!`
- **Типы аккаунтов**: 95% обычных пользователей (base), 5% администраторов (admin)
- **Статус блокировки**: 90% активных, 10% заблокированных
- **Email верификация**: 85% с подтвержденным email, 15% без подтверждения
- **Комментарии**: Каждый пользователь получает от 1 до 5 комментариев к случайным аниме (ID от 1 до 50)
- **Избранное**: Каждый пользователь получает от 1 до 10 аниме в избранное (ID от 1 до 50)
- **Топ-3 лучших аниме**: Каждый пользователь получает от 1 до 3 аниме в свой топ (не обязательно все 3 места заполнены)

### Запуск скрипта:

```bash
# Из корневой директории backend
cd backend
python scripts/generate_test_users.py

# Создать другое количество пользователей (например, 100)
python scripts/generate_test_users.py --count 100
# или
python scripts/generate_test_users.py -n 100

# Или с указанием полного пути
python -m scripts.generate_test_users
```

### Требования:

- База данных должна быть настроена и доступна
- Переменные окружения в `.env` должны быть правильно настроены
- Все зависимости из `requirements.txt` должны быть установлены

### Примечания:

- Скрипт проверяет уникальность никнеймов и email перед созданием
- Если пользователь с такими данными уже существует, он будет пропущен
- Все пользователи создаются с текущей датой и временем
- **Важно**: Для создания комментариев и избранного в базе должны быть аниме с ID от 1 до 50
- Если аниме не найдены, пользователи будут созданы, но без комментариев и избранного
- Комментарии генерируются на английском языке из предустановленного списка шаблонов

