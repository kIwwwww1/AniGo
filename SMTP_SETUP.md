# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –æ—à–∏–±–∫–∞:
> "–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∏—Å—å–º–æ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP –≤ —Ñ–∞–π–ª–µ .env –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ."

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Gmail (5 –º–∏–Ω—É—Ç)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ—é –ª–∏—á–Ω—É—é Gmail –ø–æ—á—Ç—É:

1. **–°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://myaccount.google.com/apppasswords
   - –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: "–ü–æ—á—Ç–∞", –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: "–î—Ä—É–≥–æ–µ (Yumivo SMTP)"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ 16-–∑–Ω–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)

2. **–î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Ñ–∞–π–ª:**
   ```env
   SMTP_HOST=smtp.gmail.com
   SMTP_PORT=587
   SMTP_USER=–≤–∞—à-email@gmail.com
   SMTP_PASSWORD=–≤–∞—à-16-–∑–Ω–∞—á–Ω—ã–π-–ø–∞—Ä–æ–ª—å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   SMTP_FROM_EMAIL=–≤–∞—à-email@gmail.com
   FRONTEND_URL=http://localhost:3000
   ```

3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥** –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å–Ω–æ–≤–∞.

**–í–∞–∂–Ω–æ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç Gmail!

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∏–∂–µ ‚Üì**

---

## ‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Gmail (–ª–∏—á–Ω–∞—è –ø–æ—á—Ç–∞)

### –®–∞–≥ 1: –í–∫–ª—é—á–µ–Ω–∏–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

**–í–∞–∂–Ω–æ:** Gmail —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–Ω–∞—á–∞–ª–∞ –≤–∫–ª—é—á–∏—Ç—å –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é.

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://myaccount.google.com/
2. –í –ª–µ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å"** (Security)
3. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç Google"** (Signing in to Google)
4. –ï—Å–ª–∏ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞, –Ω–∞–∂–º–∏—Ç–µ **"–î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"** (2-Step Verification)
5. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SMS –∏–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ä–æ–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –í—ã –ù–ï –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç Gmail! –ù—É–∂–µ–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://myaccount.google.com/apppasswords
   - –ò–ª–∏: –ú–æ–π –∞–∫–∫–∞—É–Ω—Ç ‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Üí –ü–∞—Ä–æ–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

2. –í —Ä–∞–∑–¥–µ–ª–µ **"–ü–∞—Ä–æ–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"** (App passwords):
   - –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: **"–ü–æ—á—Ç–∞"** (Mail)
   - –í—ã–±–µ—Ä–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: **"–î—Ä—É–≥–æ–µ (—É–∫–∞–∑–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ)"** (Other (Custom name))
   - –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: `Yumivo SMTP` –∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ

3. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å"** (Generate)

4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ 16-–∑–Ω–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (–æ–Ω –±—É–¥–µ—Ç –ø–æ–∫–∞–∑–∞–Ω –æ–¥–∏–Ω —Ä–∞–∑!):
   - –ü–∞—Ä–æ–ª—å –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫: `abcd efgh ijkl mnop`
   - –£–¥–∞–ª–∏—Ç–µ –ø—Ä–æ–±–µ–ª—ã –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏: `abcdefghijklmnop`
   - **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç –ø–∞—Ä–æ–ª—å - –æ–Ω –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

### –®–∞–≥ 3: –í–∫–ª—é—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è –Ω–µ–Ω–∞–¥–µ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ò–Ω–æ–≥–¥–∞ Gmail –º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –ï—Å–ª–∏ –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://myaccount.google.com/lesssecureapps
2. –ï—Å–ª–∏ –æ–ø—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞, –≤–∫–ª—é—á–∏—Ç–µ **"–†–∞–∑—Ä–µ—à–∏—Ç—å –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º –¥–æ—Å—Ç—É–ø –∫ –∞–∫–∫–∞—É–Ω—Ç—É"**
   - **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** Google –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –æ–ø—Ü–∏—é, –µ—Å–ª–∏ —É –≤–∞—Å –≤–∫–ª—é—á–µ–Ω–∞ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ: –≤–∫–ª—é—á–∏—Ç–µ IMAP –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Gmail:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://mail.google.com/mail/#settings/general
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **"–ü–µ—Ä–µ—Å—ã–ª–∫–∞ –∏ POP/IMAP"** (Forwarding and POP/IMAP)
3. –í —Ä–∞–∑–¥–µ–ª–µ **"–î–æ—Å—Ç—É–ø –ø–æ IMAP"** –≤—ã–±–µ—Ä–∏—Ç–µ **"–í–∫–ª—é—á–∏—Ç—å IMAP"** (Enable IMAP)
4. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è"** (Save Changes)

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π–ª–∞ .env

–û—Ç–∫—Ä–æ–π—Ç–µ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–∏–ª–∏ –≤ –ø–∞–ø–∫–µ `backend/`, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏).

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Gmail
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=–≤–∞—à-email@gmail.com
SMTP_PASSWORD=abcdefghijklmnop
SMTP_FROM_EMAIL=–≤–∞—à-email@gmail.com

# URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–¥–ª—è —Å—Å—ã–ª–æ–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
FRONTEND_URL=http://localhost:3000
```

**–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:**
- –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à-email@gmail.com` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π Gmail –∞–¥—Ä–µ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä: `ivan.petrov@gmail.com`)
- –ó–∞–º–µ–Ω–∏—Ç–µ `abcdefghijklmnop` –Ω–∞ **–ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** (16 —Å–∏–º–≤–æ–ª–æ–≤ –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤), –∫–æ—Ç–æ—Ä—ã–π –≤—ã –ø–æ–ª—É—á–∏–ª–∏ –Ω–∞ —à–∞–≥–µ 2
- **–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç Gmail!** –¢–æ–ª—å–∫–æ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è!
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `FRONTEND_URL` –º–æ–∂–µ—Ç –±—ã—Ç—å `http://localhost:3000`
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω: `FRONTEND_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.ru`

**–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
```env
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=myemail@gmail.com
SMTP_PASSWORD=xkcdabcd1234efgh
SMTP_FROM_EMAIL=myemail@gmail.com
FRONTEND_URL=https://myanime-site.com
```

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª `.env`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–µ—Ä:
   ```bash
   # –ï—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —á–µ—Ä–µ–∑ Docker
   docker-compose restart backend
   
   # –ï—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ
   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
   cd backend
   python -m uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
   ```
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å–Ω–æ–≤–∞
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É "–í—Ö–æ–¥—è—â–∏–µ" (–∏ "–°–ø–∞–º") –Ω–∞ –≤–∞—à–µ–º Gmail - –ø–∏—Å—å–º–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

–ï—Å–ª–∏ –ø–∏—Å—å–º–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞:

```bash
# Docker
docker-compose logs backend | grep -i smtp

# –ò–ª–∏ –≤—Å–µ –ª–æ–≥–∏
docker-compose logs backend

# –õ–æ–∫–∞–ª—å–Ω–æ
# –õ–æ–≥–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å Gmail

#### –ü—Ä–æ–±–ª–µ–º–∞: "Username and Password not accepted" –∏–ª–∏ "535-5.7.8"
**–†–µ—à–µ–Ω–∏–µ:** 
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ **–ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å –æ—Ç Gmail
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –≤–∫–ª—é—á–µ–Ω–∞
- –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –µ—Å–ª–∏ —Å—Ç–∞—Ä—ã–π –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

#### –ü—Ä–æ–±–ª–µ–º–∞: "Please log in via your web browser"
**–†–µ—à–µ–Ω–∏–µ:**
- –í—Ä–µ–º–µ–Ω–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º (—Å–º. –®–∞–≥ 3)
- –ò–ª–∏ —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å

#### –ü—Ä–æ–±–ª–µ–º–∞: –ü–∏—Å—å–º–∞ —É—Ö–æ–¥—è—Ç –≤ —Å–ø–∞–º
**–†–µ—à–µ–Ω–∏–µ:**
- –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è –ª–∏—á–Ω–æ–π Gmail –ø–æ—á—Ç—ã
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π Gmail –∞–∫–∫–∞—É–Ω—Ç –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º –æ—Ç —Å–∞–π—Ç–∞
- –í –±—É–¥—É—â–µ–º –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SPF/DKIM –∑–∞–ø–∏—Å–∏ –¥–ª—è –¥–æ–º–µ–Ω–∞ (–µ—Å–ª–∏ –±—É–¥–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–æ—á—Ç—É)

---

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP –¥–ª—è reg.ru

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—á—Ç–æ–≤–æ–≥–æ —è—â–∏–∫–∞ –≤ reg.ru

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ö–æ—Å—Ç–∏–Ω–≥–æ–º reg.ru
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"–ü–æ—á—Ç–∞"** –∏–ª–∏ **"Email"**
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫ –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `noreply@–≤–∞—à-–¥–æ–º–µ–Ω.ru` –∏–ª–∏ `admin@–≤–∞—à-–¥–æ–º–µ–Ω.ru`)
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ø–æ—á—Ç–æ–≤–æ–≥–æ —è—â–∏–∫–∞

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ SMTP

–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è reg.ru –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø–æ—á—Ç–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏–ª–∏ SMTP. –û–±—ã—á–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ä–∞–∑–¥–µ–ª–µ **"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—á—Ç–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤"** –∏–ª–∏ **"–ü–∞—Ä–∞–º–µ—Ç—Ä—ã SMTP"**.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã SMTP –¥–ª—è reg.ru:**
- **SMTP —Å–µ—Ä–≤–µ—Ä (HOST):** `mail.hosting.reg.ru`
- **–ü–æ—Ä—Ç:** `587` (–¥–ª—è TLS) –∏–ª–∏ `465` (–¥–ª—è SSL)
- **–õ–æ–≥–∏–Ω:** –ü–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –ø–æ—á—Ç–æ–≤–æ–≥–æ —è—â–∏–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `noreply@–≤–∞—à-–¥–æ–º–µ–Ω.ru`)
- **–ü–∞—Ä–æ–ª—å:** –ü–∞—Ä–æ–ª—å –æ—Ç –ø–æ—á—Ç–æ–≤–æ–≥–æ —è—â–∏–∫–∞
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:** TLS (–¥–ª—è –ø–æ—Ä—Ç–∞ 587) –∏–ª–∏ SSL (–¥–ª—è –ø–æ—Ä—Ç–∞ 465)

**–í–∞–∂–Ω–æ:** –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TLS –Ω–∞ –ø–æ—Ä—Ç—É 587, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–º–µ–Ω–Ω–æ —ç—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π–ª–∞ .env

–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–∏–ª–∏ –≤ –ø–∞–ø–∫–µ `backend/`, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–∞—à–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏).

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```env
# SMTP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è reg.ru
SMTP_HOST=mail.hosting.reg.ru
SMTP_PORT=587
SMTP_USER=noreply@–≤–∞—à-–¥–æ–º–µ–Ω.ru
SMTP_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å_–æ—Ç_–ø–æ—á—Ç–æ–≤–æ–≥–æ_—è—â–∏–∫–∞
SMTP_FROM_EMAIL=noreply@–≤–∞—à-–¥–æ–º–µ–Ω.ru

# URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–¥–ª—è —Å—Å—ã–ª–æ–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
FRONTEND_URL=https://–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

**–í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è:**
- –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à-–¥–æ–º–µ–Ω.ru` –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
- –ó–∞–º–µ–Ω–∏—Ç–µ `noreply@–≤–∞—à-–¥–æ–º–µ–Ω.ru` –Ω–∞ –∞–¥—Ä–µ—Å —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –ø–æ—á—Ç–æ–≤–æ–≥–æ —è—â–∏–∫–∞
- –ó–∞–º–µ–Ω–∏—Ç–µ `–≤–∞—à_–ø–∞—Ä–æ–ª—å_–æ—Ç_–ø–æ—á—Ç–æ–≤–æ–≥–æ_—è—â–∏–∫–∞` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ `FRONTEND_URL` –º–æ–∂–µ—Ç –±—ã—Ç—å `http://localhost:3000`
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω —Å HTTPS

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

1. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª `.env`
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–µ—Ä:
   ```bash
   # –ï—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ —á–µ—Ä–µ–∑ Docker
   docker-compose restart backend
   
   # –ï—Å–ª–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ
   # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä (Ctrl+C) –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞
   python -m uvicorn src.main:app --reload --host 0.0.0.0 --port 8000
   ```
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å–Ω–æ–≤–∞

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±—ç–∫–µ–Ω–¥–∞:

```bash
# Docker
docker-compose logs backend

# –õ–æ–∫–∞–ª—å–Ω–æ
# –õ–æ–≥–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏, –≥–¥–µ –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä
```

–í –ª–æ–≥–∞—Ö –≤—ã —É–≤–∏–¥–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—à–∏–±–∫–∞—Ö SMTP, –Ω–∞–ø—Ä–∏–º–µ—Ä:
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ —Å–µ—Ä–≤–µ—Ä—É
- –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Ä—Ç–∞ 465 (SSL)

–ï—Å–ª–∏ –ø–æ—Ä—Ç 587 –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ—Ä—Ç 465 —Å SSL. –û–¥–Ω–∞–∫–æ, –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `start_tls=True`, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –ø–æ—Ä—Ç–æ–º 587. –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ—Ä—Ç–∞ 465 –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–¥–∞.

**–î–ª—è –ø–æ—Ä—Ç–∞ 465 –≤ `.env`:**
```env
SMTP_HOST=mail.hosting.reg.ru
SMTP_PORT=465
SMTP_USER=noreply@–≤–∞—à-–¥–æ–º–µ–Ω.ru
SMTP_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å
SMTP_FROM_EMAIL=noreply@–≤–∞—à-–¥–æ–º–µ–Ω.ru
```

–ù–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ –≤ `backend/src/services/email.py` (–∑–∞–º–µ–Ω–∏—Ç—å `start_tls=True` –Ω–∞ `use_tls=False` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SSL).

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Yandex –ø–æ—á—Ç—ã

–ï—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Yandex –≤–º–µ—Å—Ç–æ Gmail:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://id.yandex.ru/security/app-passwords
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è "–ü–æ—á—Ç–∞"
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env`:

```env
SMTP_HOST=smtp.yandex.ru
SMTP_PORT=465
SMTP_USER=–≤–∞—à-email@yandex.ru
SMTP_PASSWORD=–≤–∞—à-–ø–∞—Ä–æ–ª—å-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
SMTP_FROM_EMAIL=–≤–∞—à-email@yandex.ru
```

**–í–∞–∂–Ω–æ:** –î–ª—è Yandex –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–¥ –≤ `backend/src/services/email.py`, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Ä—Ç 465 –∏—Å–ø–æ–ª—å–∑—É–µ—Ç SSL, –∞ –Ω–µ TLS. –¢–µ–∫—É—â–∏–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `start_tls=True` –¥–ª—è –ø–æ—Ä—Ç–∞ 587.

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è reg.ru –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–æ—á—Ç—ã: https://help.reg.ru/support/hosting/nastroyka-pochty-regru
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `.env` –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore` (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –µ–≥–æ –≤ git)
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –≤–º–µ—Å—Ç–æ —Ñ–∞–π–ª–∞ `.env`

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: "SMTP credentials not configured"
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `.env` —Ñ–∞–π–ª–µ —É–∫–∞–∑–∞–Ω—ã `SMTP_USER` –∏ `SMTP_PASSWORD` –∏ –æ–Ω–∏ –Ω–µ –ø—É—Å—Ç—ã–µ.

### –ü—Ä–æ–±–ª–µ–º–∞: "Failed to send verification email"
**–†–µ—à–µ–Ω–∏–µ:** 
- **–î–ª—è Gmail:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø–∞—Ä–æ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å
- **–î–ª—è reg.ru:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä–æ–ª—è –æ—Ç –ø–æ—á—Ç–æ–≤–æ–≥–æ —è—â–∏–∫–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫ —Å–æ–∑–¥–∞–Ω –≤ –ø–∞–Ω–µ–ª–∏ reg.ru
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ SMTP —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ –ø–æ—á—Ç–æ–≤—ã–π –∫–ª–∏–µ–Ω—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, Outlook –∏–ª–∏ Thunderbird) —Å —Ç–µ–º–∏ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

### –ü—Ä–æ–±–ª–µ–º–∞: "Connection refused" –∏–ª–∏ "Timeout"
**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ö–æ—Å—Ç–∏–Ω–≥ reg.ru —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∏—Å—Ö–æ–¥—è—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –Ω–∞ –ø–æ—Ä—Ç 587
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π—Ä–≤–æ–ª –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç (465)
