#!/bin/bash
# Скрипт для создания .env файла на сервере

cat > .env << 'EOF'
# ============================================
# AniGo - Конфигурация переменных окружения
# ============================================

# ============================================
# БАЗА ДАННЫХ (PostgreSQL)
# ============================================
POSTGRES_USER=anigo_user
POSTGRES_PASSWORD=ЗАМЕНИТЕ_НА_НАДЕЖНЫЙ_ПАРОЛЬ
POSTGRES_DB=anigo
DB_HOST=db
DB_PORT=5432

# ============================================
# REDIS (для кэширования)
# ============================================
REDIS_URL=redis://redis:6379/0

# ============================================
# JWT И БЕЗОПАСНОСТЬ
# ============================================
# Сгенерируйте ключ командой: python3 -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=ЗАМЕНИТЕ_НА_СГЕНЕРИРОВАННЫЙ_КЛЮЧ_МИНИМУМ_32_СИМВОЛА
ALGORITHM=HS256
COOKIES_SESSION_ID_KEY=session_id

# ============================================
# SMTP (для отправки email)
# ============================================
SMTP_HOST=mail.hosting.reg.ru
SMTP_PORT=587
SMTP_USER=noreply@вашдомен.ru
SMTP_PASSWORD=ваш_пароль_от_почты_reg_ru
SMTP_FROM_EMAIL=noreply@вашдомен.ru

# URL фронтенда для ссылок в письмах
FRONTEND_URL=https://вашдомен.ru

# ============================================
# S3 ХРАНИЛИЩЕ (если используется)
# ============================================
S3_ACCESS_KEY=your_s3_access_key
S3_SECRET_KEY=your_s3_secret_key
S3_ENDPOINT_URL=https://s3.ru-7.storage.selcloud.ru
S3_BUCKET_NAME=anigo
S3_DOMEN_URL=https://your-bucket-id.selstorage.ru

# ============================================
# CORS (разрешенные домены)
# ============================================
ALLOWED_ORIGINS=https://вашдомен.ru,https://www.вашдомен.ru

# ============================================
# ПУТИ И ФАЙЛЫ
# ============================================
AVATARS_BASE_PATH=/app

# ============================================
# ОКРУЖЕНИЕ
# ============================================
ENVIRONMENT=production
EOF

echo "Файл .env создан! Теперь отредактируйте его: nano .env"
